#!/usr/bin/env bash

dots_cmd() {
	local install_cmd="${ROOT_DIR}/install"
	local f=".local/bin/dots"

	[[ -f $f ]] && rm $f

	touch $f
	cat >$f <<-EOF
		#!/usr/bin/env bash

		${install_cmd} --name=dots "\$@"
	EOF
	chmod +x $f
}

function check_installed() {
    local path="$1"
    [[ -f "$path" ]] || return -1;
    return 0
}

path=".local/bin/git-fuzzy"
echo -en " git-fuzzy"

check_installed "$path" || cp $(realpath "./git-fuzzy/bin/git-fuzzy") "$path"

echo "$(small)  ...done$(reset)"
unset path



echo -en " dots-cmd"
dots_cmd
echo "$(small)  ...done$(reset)"
